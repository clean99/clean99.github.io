<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Vocabulary computational processes(a sorcerer’s idea of a spirit):  ideas, can’t be seen or touch but solve the problem and direct the real world program(a sorcerer’s spells)：prescribe computational p">
<meta property="og:type" content="article">
<meta property="og:title" content="SICPJS 1. Building Abstractions With Functions">
<meta property="og:url" content="https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/index.html">
<meta property="og:site_name" content="Koh Hom&#39;s Blog | Frontend &amp; Testing Blog">
<meta property="og:description" content="Vocabulary computational processes(a sorcerer’s idea of a spirit):  ideas, can’t be seen or touch but solve the problem and direct the real world program(a sorcerer’s spells)：prescribe computational p">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/expression.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/evaluatingcombineexpression.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/combineexpressiontree.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/function.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/predicate.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/sqrtiter.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/applicativeorder.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/linearrecursiveprocess.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/lineariterativeprocess.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/treerecursiveprocess.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/summatefunction.png">
<meta property="og:image" content="https://clean99.github.io/img/sicpjs/summatemath.png">
<meta property="article:published_time" content="2022-04-25T02:39:55.000Z">
<meta property="article:modified_time" content="2023-06-10T09:33:54.609Z">
<meta property="article:author" content="Koh Hom">
<meta property="article:tag" content="sicpjs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://clean99.github.io/img/sicpjs/expression.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>SICPJS 1. Building Abstractions With Functions</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/04/27/Build-a-Toy-Browser-with-NodeJS/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2022/04/24/SICPJS-What-I-think-and-what-I-ve-done/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&text=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&is_video=false&description=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SICPJS 1. Building Abstractions With Functions&body=Check out this article: https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&name=SICPJS 1. Building Abstractions With Functions&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&t=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-The-Elements-of-Programming"><span class="toc-number"></span> <span class="toc-text">1.1 The Elements of Programming</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-1"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-1"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-1"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-1-Expressions"><span class="toc-number"></span> <span class="toc-text">1.1.1 Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-2"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-2"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-2"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-2-Naming-and-the-Environment"><span class="toc-number"></span> <span class="toc-text">1.1.2  Naming and the Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-3"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-3"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-3"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-3-Evaluating-Operator-Combinations"><span class="toc-number"></span> <span class="toc-text">1.1.3   Evaluating Operator Combinations</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-4"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-4"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-4"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-4-Compound-Functions"><span class="toc-number"></span> <span class="toc-text">1.1.4   Compound Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-5"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-5"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-5"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-5-The-Substitution-Model-for-Function-Application"><span class="toc-number"></span> <span class="toc-text">1.1.5   The Substitution Model for Function Application</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-6"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-6"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-6"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-6-Conditional-Expressions-and-Predicates"><span class="toc-number"></span> <span class="toc-text">1.1.6   Conditional Expressions and Predicates</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-7"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-7"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-7"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-7-Example-Square-Roots-by-Newton%E2%80%99s-Method"><span class="toc-number"></span> <span class="toc-text">1.1.7  Example: Square Roots by Newton’s Method</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-8"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-8"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-8"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-8-Functions-as-Black-Box-Abstractions"><span class="toc-number"></span> <span class="toc-text">1.1.8   Functions as Black-Box Abstractions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-9"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-9"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-9"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-Functions-and-the-Processes-They-Generate"><span class="toc-number"></span> <span class="toc-text">1.2   Functions and the Processes They Generate</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-10"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-10"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-10"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-1-Linear-Recursion-and-Iteration"><span class="toc-number"></span> <span class="toc-text">1.2.1  Linear Recursion and Iteration</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-11"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-11"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-11"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-2-Tree-Recursion"><span class="toc-number"></span> <span class="toc-text">1.2.2  Tree Recursion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-12"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-12"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-12"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-3-Orders-of-Growth"><span class="toc-number"></span> <span class="toc-text">1.2.3  Orders of Growth</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-13"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-13"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-13"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-4-Exponentiation"><span class="toc-number"></span> <span class="toc-text">1.2.4  Exponentiation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-14"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-14"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-14"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-5-Greatest-Common-Divisors"><span class="toc-number"></span> <span class="toc-text">1.2.5  Greatest Common Divisors</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-15"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-15"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-15"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-6-Example-Testing-for-Primality"><span class="toc-number"></span> <span class="toc-text">1.2.6  Example: Testing for Primality</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-16"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-16"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-16"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-Formulating-Abstractions-with-Higher-Order-Functions"><span class="toc-number"></span> <span class="toc-text">1.3   Formulating Abstractions with Higher-Order Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-17"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-17"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-17"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-1-Functions-as-Arguments"><span class="toc-number"></span> <span class="toc-text">1.3.1   Functions as Arguments</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-18"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-18"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-18"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-2-Constructing-Functions-using-Lambda-Expressions"><span class="toc-number"></span> <span class="toc-text">1.3.2   Constructing Functions using Lambda Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-19"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-19"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-19"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-3-Functions-as-General-Methods"><span class="toc-number"></span> <span class="toc-text">1.3.3   Functions as General Methods</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-20"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-20"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-20"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-4-Functions-as-Returned-Values"><span class="toc-number"></span> <span class="toc-text">1.3.4   Functions as Returned Values</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-21"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-21"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-21"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        SICPJS 1. Building Abstractions With Functions
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Koh Hom</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-04-25T02:39:55.000Z" class="dt-published" itemprop="datePublished">2022-04-25</time>
        
        (Updated: <time datetime="2023-06-10T09:33:54.609Z" class="dt-updated" itemprop="dateModified">2023-06-10</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/sicpjs/" rel="tag">sicpjs</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="Vocabulary"><a href="#Vocabulary" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>computational processes(a sorcerer’s idea of a spirit):  ideas, can’t be seen or touch but solve the problem and direct the real world</li>
<li>program(a sorcerer’s spells)：prescribe computational processes by programming language, manipulate another abstract thing data.</li>
<li>programmers(the sorcerer’s apprentice): the one who form an idea and conjure with spells. </li>
<li>data：</li>
<li>javascript: our spells format, it inherited its core features from the Scheme, core feature: first-class functions and dynamic typing.</li>
</ul>
<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h2><ul>
<li>How to make your spells do exactly what you want it to do?<ul>
<li>how to vistualize systems in advance(testing?)</li>
<li>make sure won’t lead to catastrophic consequences when unanticipated problems happen(fault-tolerance?)</li>
<li>debug the problems when they arise(monitor?)</li>
</ul>
</li>
</ul>
<h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>make your spells do exactly what you want it to do</li>
<li>well designed programs design in modular manner, so that the parts can be constructed, replaced, and debugged separately(human’s limitation, make it simple and stupid! complex ideas are made by several simple ideas, so just break it down.)</li>
</ul>
<h1 id="1-1-The-Elements-of-Programming"><a href="#1-1-The-Elements-of-Programming" class="headerlink" title="1.1 The Elements of Programming"></a>1.1 The Elements of Programming</h1><h2 id="Vocabulary-1"><a href="#Vocabulary-1" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li><strong>primitive expressions</strong>, which represent the simplest entities the language is concerned with,</li>
<li><strong>means of combination</strong>, by which compound elements are built from simpler ones, and</li>
<li><strong>means of abstraction</strong>, by which compound elements can be named and manipulated as units.</li>
<li>data: the stuff we what to manipulate</li>
<li>function: descriptions of rules to manipulate data</li>
</ul>
<h2 id="Questions-1"><a href="#Questions-1" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-1"><a href="#Notes-1" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Powerful language server as a framework to <strong>organize our ideas about the processes</strong>.(pay attention to what language prodive for combine simple ideas. object-orient programming? not only language, framework like react, they provide well design abstraction(virtual dom), and a easy way for organize module frontend component)</li>
</ul>
<h1 id="1-1-1-Expressions"><a href="#1-1-1-Expressions" class="headerlink" title="1.1.1 Expressions"></a>1.1.1 Expressions</h1><h2 id="Vocabulary-2"><a href="#Vocabulary-2" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>expression: consists of an <em>expression</em> followed by a semicolon.(In my option, a line is basically an expression)<ul>
<li>primitive expression:<ul>
<li>number</li>
</ul>
</li>
<li>combination expressions:<ul>
<li>an expression composes by others expression(operator combination)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Questions-2"><a href="#Questions-2" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-2"><a href="#Notes-2" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><img alt="expression" src="/img/sicpjs/expression.png" style="width: 800px"></li>
</ul>
<h1 id="1-1-2-Naming-and-the-Environment"><a href="#1-1-2-Naming-and-the-Environment" class="headerlink" title="1.1.2  Naming and the Environment"></a>1.1.2  Naming and the Environment</h1><h2 id="Vocabulary-3"><a href="#Vocabulary-3" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>naming: provide for names-value storage, is a simplest mean of abstraction, provide a easy way to reuse the complex value(combination expression)</li>
<li>environment: the cost of naming(make an value and reuse them after by refer their name) is we must maintain a sort of memory that keep the key-value pairs, this called environment</li>
</ul>
<h2 id="Questions-3"><a href="#Questions-3" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-3"><a href="#Notes-3" class="headerlink" title="Notes"></a>Notes</h2><h1 id="1-1-3-Evaluating-Operator-Combinations"><a href="#1-1-3-Evaluating-Operator-Combinations" class="headerlink" title="1.1.3   Evaluating Operator Combinations"></a>1.1.3   Evaluating Operator Combinations</h1><h2 id="Vocabulary-4"><a href="#Vocabulary-4" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-4"><a href="#Questions-4" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-4"><a href="#Notes-4" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>we don’t operate the combination expression but the primitive expression like data or a name all the time</li>
<li>evaluating operatoor combinations is a recursive process in nature, as follow:</li>
<li><img alt="combineexpression" src="/img/sicpjs/evaluatingcombineexpression.png">
<img alt="combineexpressiontree" src="/img/sicpjs/combineexpressiontree.png"></li>
</ul>
<h1 id="1-1-4-Compound-Functions"><a href="#1-1-4-Compound-Functions" class="headerlink" title="1.1.4   Compound Functions"></a>1.1.4   Compound Functions</h1><h2 id="Vocabulary-5"><a href="#Vocabulary-5" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>compound functions: basically is an mean of combination(compound several expression) and mean of abstraction(as an unit, in most case this unit repesent an operate) of operate(compare to naming data, it abstract the data)</li>
</ul>
<h2 id="Questions-5"><a href="#Questions-5" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-5"><a href="#Notes-5" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><img alt="function" src="/img/sicpjs/function.png"></li>
</ul>
<h1 id="1-1-5-The-Substitution-Model-for-Function-Application"><a href="#1-1-5-The-Substitution-Model-for-Function-Application" class="headerlink" title="1.1.5   The Substitution Model for Function Application"></a>1.1.5   The Substitution Model for Function Application</h1><h2 id="Vocabulary-6"><a href="#Vocabulary-6" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>substitution model: To apply a compound function to arguments, evaluate the return expression of the function with each parameter replaced by the corresponding argument.</li>
<li>normal-order evaluation: fully expand and then reduce, js use substitution model because of effecy, but normal-order evaluation can be an extremely valuable tool</li>
</ul>
<h2 id="Questions-6"><a href="#Questions-6" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-6"><a href="#Notes-6" class="headerlink" title="Notes"></a>Notes</h2><h1 id="1-1-6-Conditional-Expressions-and-Predicates"><a href="#1-1-6-Conditional-Expressions-and-Predicates" class="headerlink" title="1.1.6   Conditional Expressions and Predicates"></a>1.1.6   Conditional Expressions and Predicates</h1><h2 id="Vocabulary-7"><a href="#Vocabulary-7" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>predicate: expression return true or flase</li>
<li>expression__1&amp;&amp;_expression__2:    expression__1?expression__2:false </li>
<li>expression__1 || _expression__2:  expression__1?true:_expression__2</li>
<li>!expression: expression__1?false:true</li>
</ul>
<h2 id="Questions-7"><a href="#Questions-7" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-7"><a href="#Notes-7" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><img alt="predicate" src="/img/sicpjs/predicate.png"></li>
<li>Notice that &amp;&amp; and || are syntactic forms, not operators; their right-hand expression is not always evaluated.</li>
</ul>
<h1 id="1-1-7-Example-Square-Roots-by-Newton’s-Method"><a href="#1-1-7-Example-Square-Roots-by-Newton’s-Method" class="headerlink" title="1.1.7  Example: Square Roots by Newton’s Method"></a>1.1.7  Example: Square Roots by Newton’s Method</h1><h2 id="Vocabulary-8"><a href="#Vocabulary-8" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-8"><a href="#Questions-8" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-8"><a href="#Notes-8" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><p>break a big program into several small pieces and construct them sperate</p>
</li>
<li><p>by using call function we can make a interative structure without any loop syntax</p>
</li>
<li><img alt="sqrtiter" src="/img/sicpjs/sqrtiter.png"> 
see applicative order
<img alt="applicativeorder" src="/img/sicpjs/applicativeorder.png">
</li>
<li><p>it is crucial that each function accomplishes an** identifiable task** that can** be used as a module** in defining other functions. (how to finish the biggest task? break to into pieces, how to finish the pieces?…)</p>
</li>
</ul>
<h1 id="1-1-8-Functions-as-Black-Box-Abstractions"><a href="#1-1-8-Functions-as-Black-Box-Abstractions" class="headerlink" title="1.1.8   Functions as Black-Box Abstractions"></a>1.1.8   Functions as Black-Box Abstractions</h1><h2 id="Vocabulary-9"><a href="#Vocabulary-9" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>black box: don’t care about** how to**, but** what is. **So a function should be able to suppress detail(hide the unnecessary details as far as possible)</li>
<li>local name: the function param is not a matter, is used by the function’s author, must not affect them</li>
<li><strong>block structure</strong>: as a module, we declare all of the vars and functions inside a block structure {}, which make the boundary more clear(<em><strong>lexical scoping</strong></em>) encapsulation</li>
</ul>
<h2 id="Questions-9"><a href="#Questions-9" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-9"><a href="#Notes-9" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>when read source code, first threat them as a black box, only care about what they done(their name), it can save your life</li>
<li>We will use block structure extensively to help us break up large programs into tractable pieces.</li>
</ul>
<h1 id="1-2-Functions-and-the-Processes-They-Generate"><a href="#1-2-Functions-and-the-Processes-They-Generate" class="headerlink" title="1.2   Functions and the Processes They Generate"></a>1.2   Functions and the Processes They Generate</h1><h2 id="Vocabulary-10"><a href="#Vocabulary-10" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-10"><a href="#Questions-10" class="headerlink" title="Questions"></a>Questions</h2><ul>
<li>How to abstract functions?(how to split task?)</li>
<li>How to predict the consequences of making a move?</li>
</ul>
<h2 id="Notes-10"><a href="#Notes-10" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>visualize the consequences </li>
<li>A function is a pattern for the <em>local evolution</em> of a computational process. It specifies how each stage of the process is built upon the previous stage.</li>
</ul>
<h1 id="1-2-1-Linear-Recursion-and-Iteration"><a href="#1-2-1-Linear-Recursion-and-Iteration" class="headerlink" title="1.2.1  Linear Recursion and Iteration"></a>1.2.1  Linear Recursion and Iteration</h1><h2 id="Vocabulary-11"><a href="#Vocabulary-11" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li><p>Linear Recursion(shape): a chain of defered operations, the interpreter keeps track of the operations to perform later on. the chain has n length. time O(n) storeO(n)</p>
<img alt="linearrecursiveprocess" src="/img/sicpjs/linearrecursiveprocess.png">

</li>
<li><p>linear iterative: no need to grow and shrink. state can be summarized by a fixed number of <em>state variables</em>, together with a fixed rule that describes how the state variables should be updated as the process moves from state to state and an (optional) end test that specifies conditions under which the process should terminate.time O(n) store O(1)</p>
<img alt="lineariterativeprocess" src="/img/sicpjs/lineariterativeprocess.png">
</li>
<li><p>the difference: iterative process no need the interpreter to store some “hidden” state, all description are provided with state. And the recrusive process store state with the help of interpreter, the longer the chain is, the more state the interpreter should maintain.</p>
</li>
<li><p>recursive function: means a function syxnaxly refer itself, it has nothing to do with recursive process. a recursive function can be iterative process as well.</p>
</li>
<li><p>recursive process: it s a way of function evolves, leave the state to interpreter, and call the next function.</p>
</li>
<li><p>tail-recrusive: common language consume space even in iterative process’ recursive function. But js has tail-recrusive optimization, it consume constant space. With a tail-recursive implementation, iteration can be expressed using the ordinary function call mechanism, so that special iteration constructs are useful only as syntactic sugar.</p>
</li>
</ul>
<h2 id="Questions-11"><a href="#Questions-11" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-11"><a href="#Notes-11" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>why recursive expand? I think it’s because we look problem from top to bottom, so we need to store “how to solve topest problem” all the time, and if you look problem from bottom to top, you only need to update the state and never need to care about the bottom problem solution(we aim at the topest problem)</li>
</ul>
<h1 id="1-2-2-Tree-Recursion"><a href="#1-2-2-Tree-Recursion" class="headerlink" title="1.2.2  Tree Recursion"></a>1.2.2  Tree Recursion</h1><h2 id="Vocabulary-12"><a href="#Vocabulary-12" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-12"><a href="#Questions-12" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-12"><a href="#Notes-12" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><p>function call itself twice, it will form a binary-tree. we can anaysls O using tree graph.(it’s all about how to evolue function upon some ohter functions.)</p>
<img alt="treerecursiveprocess" src="/img/sicpjs/treerecursiveprocess.png">
</li>
<li><p>tree recursion is useful in tree structure data or graph, and more straightforward than interative process</p>
</li>
<li><p>change to interative process: thinking buttom to top, f(n) &#x3D; f(n-1)+f(n-2), so f(n) + f(n-1) &#x3D; f(n+1), we need two state to store n, n-1, and a limit condition count</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fib</span>(<span class="params">n</span>)&#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fib_iter</span>(<span class="params">a, b, count</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> count === <span class="number">0</span></span><br><span class="line">           ? b </span><br><span class="line">           : <span class="title function_">fib_iter</span>(a + b, a, count - <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fib_iter</span>(<span class="number">1</span>, <span class="number">0</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Counting change</p>
</li>
</ul>
<p>How many different ways can we make change of $1.00 (100 cents), given half-dollars, quarters, dimes, nickels, and pennies (50 cents, 25 cents, 10 cents, 5 cents, and 1 cent, respectively)?</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// problem: given 100 or n, count the ways of splitting it in </span></span><br><span class="line"><span class="comment">// 50, 25, 10, 5, and 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// method2: dp dp[n,m] = Sum(dp[n][m-1] + dp[n-c[m]][m]) dp[1] = 1</span></span><br><span class="line"><span class="comment">// dp是有序的，是上一个状态推出下一个状态。而给的钱是无序的，需要一个维度来记录彼此的联系</span></span><br><span class="line"><span class="comment">// dp[n,m]与dp[n,m-1]使用c[m]面值的钱与不用的时候的次数 dp[n,m] = dp[n,m-1] + dp[n-c[m]][m]</span></span><br><span class="line"><span class="comment">// dp[n] = Sum(dp[n-c[i]])把c认为是有顺序的，从0～i转移，错误</span></span><br><span class="line"><span class="comment">// dp[n-c[m]][m]假设使用了第m种硬币的人， 因为你使用了这种硬币，所以至少使用了一次，减掉这一次，剩下的</span></span><br><span class="line"><span class="comment">// 无论使用过没有都算，这里有点难理解</span></span><br><span class="line">  <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">5</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">count_change</span>(<span class="params">n</span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> c = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">50</span>]</span><br><span class="line">  <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(c.<span class="property">length</span>+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; c.<span class="property">length</span>+<span class="number">1</span>; i++) &#123;</span><br><span class="line">    dp[i] = <span class="keyword">new</span> <span class="title class_">Array</span>(n+<span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; c.<span class="property">length</span>+<span class="number">1</span>; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dp)</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>;i &lt;= c.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= n;j++) &#123;</span><br><span class="line">        dp[i][j] = dp[i - <span class="number">1</span>][j]</span><br><span class="line">        <span class="keyword">const</span> index = j - c[i-<span class="number">1</span>]</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">0</span>) dp[i][j] += dp[i][index]</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i,j,dp[i][j])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dp[c.<span class="property">length</span>-<span class="number">1</span>][n]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Exercise 1.11</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// recursive</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">3</span></span><br><span class="line">    ? n</span><br><span class="line">    : <span class="title function_">f</span>(n - <span class="number">1</span>) + <span class="number">2</span> * <span class="title function_">f</span>(n - <span class="number">2</span>) + <span class="number">3</span> * <span class="title function_">f</span>(n - <span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// iterative</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">c_f</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">f_iter</span>(<span class="params">f1, f2, f3, count</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> count === n</span><br><span class="line">        ? f3</span><br><span class="line">        : <span class="title function_">f_iter</span>(f1 + <span class="number">2</span> * f2 + <span class="number">3</span> * f3, f1, f2, count + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">f_iter</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Exercise 1.12</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// consider p[i][j]</span></span><br><span class="line"><span class="comment">// recursive</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">p_recursive</span>(<span class="params">i, j</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> i === <span class="number">1</span></span><br><span class="line">    ? <span class="number">1</span></span><br><span class="line">    : j === <span class="number">1</span></span><br><span class="line">    ? <span class="number">1</span></span><br><span class="line">    : <span class="title function_">p_recursive</span>(i - <span class="number">1</span>, j) + <span class="title function_">p_recursive</span>(i, j - <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterative (dp)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">p</span>(<span class="params">i, j</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(i &lt; <span class="number">1</span> || j &lt; <span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;number invalid&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span>(i === <span class="number">1</span> || j === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">// create i + 1 row * j + 1 col array, init value = 0</span></span><br><span class="line">  <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(i + <span class="number">1</span>).<span class="title function_">fill</span>().<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(j + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>))</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; i + <span class="number">1</span>; k++) &#123;</span><br><span class="line">    dp[k][<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; j + <span class="number">1</span>; k++) &#123;</span><br><span class="line">    dp[<span class="number">1</span>][k] = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> k = <span class="number">2</span>; k &lt; i + <span class="number">1</span>; k++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> g = <span class="number">2</span>; g &lt; j + <span class="number">1</span>; g++) &#123;</span><br><span class="line">      dp[k][g] = dp[k - <span class="number">1</span>][g] + dp[k][g - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dp[i][j]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the author&#x27;s solution use row, index to repesent the item, it&#x27;s the same as mine</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="1-2-3-Orders-of-Growth"><a href="#1-2-3-Orders-of-Growth" class="headerlink" title="1.2.3  Orders of Growth"></a>1.2.3  Orders of Growth</h1><h2 id="Vocabulary-13"><a href="#Vocabulary-13" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>order of growth: a way to describe the computer resource that the process use. usually time and storage</li>
<li>n: we describe a problem’s size as n.</li>
<li>R(n): the resource used by n size problem.</li>
</ul>
<h2 id="Questions-13"><a href="#Questions-13" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-13"><a href="#Notes-13" class="headerlink" title="Notes"></a>Notes</h2><h1 id="1-2-4-Exponentiation"><a href="#1-2-4-Exponentiation" class="headerlink" title="1.2.4  Exponentiation"></a>1.2.4  Exponentiation</h1><h2 id="Vocabulary-14"><a href="#Vocabulary-14" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-14"><a href="#Questions-14" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-14"><a href="#Notes-14" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Exercise 1.16<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fast expt: given b and n, calculate b^n</span></span><br><span class="line"><span class="comment">// naive: b^n = b * b * ..... * b (n time) or = b * b^n-1</span></span><br><span class="line"><span class="comment">// recursive time o(n) store o(n)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">expt</span>(<span class="params">b, n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n === <span class="number">1</span></span><br><span class="line">    ? b</span><br><span class="line">    : b * <span class="title function_">expt</span>(b, n - <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterative store o(1)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">expt</span>(<span class="params">b, n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">expt_iter</span>(<span class="params">a, count</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> count === n</span><br><span class="line">      ? a</span><br><span class="line">      : <span class="title function_">expt_iter</span>(a * b, count + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">expt_iter</span>(b, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mid: fast_expt: every step is the same, we can take a bigger step,</span></span><br><span class="line"><span class="comment">// b^n = (b^n/2)^2 n is even</span></span><br><span class="line"><span class="comment">// b^n = b * b^n-1 n is odd</span></span><br><span class="line"><span class="comment">// O(log n) store O(log n)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">is_even</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fast_expt</span>(<span class="params">b, n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n === <span class="number">1</span></span><br><span class="line">          ? b</span><br><span class="line">          : <span class="title function_">is_even</span>(n)</span><br><span class="line">          ? <span class="title function_">fast_expt</span>(<span class="title function_">fast_expt</span>(b, n / <span class="number">2</span>), <span class="number">2</span>) <span class="comment">// wrong! use fast_expt(b, n / 2) * fast_expt(b, n / 2) instead this will overflow bcz (b, 2)</span></span><br><span class="line">        <span class="comment">// still need to call fast_expt to solve</span></span><br><span class="line">          : b * <span class="title function_">fast_expt</span>(b, n - <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterative</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fast_expt</span>(<span class="params">b, n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fast_expt_iter</span>(<span class="params">a, count</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> count === n <span class="comment">// can use n to 0 method too</span></span><br><span class="line">            ? a</span><br><span class="line">            : count * <span class="number">2</span> &lt;= n</span><br><span class="line">            ? <span class="title function_">fast_expt_iter</span>(a * a, count * <span class="number">2</span>)</span><br><span class="line">            : <span class="title function_">fast_expt_iter</span>(a * b, count + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fast_expt_iter</span>(b, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use bit shift, avoid use / instead use &gt;&gt; will be even more faster</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fast_expt</span>(<span class="params">b, n</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(n === <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span>(n) &#123;</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">// b^n = (b^2)^n/2</span></span><br><span class="line">      n = n &gt;&gt; <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      n = n &gt;&gt; <span class="number">1</span></span><br><span class="line">      a = a * b</span><br><span class="line">    &#125;</span><br><span class="line">    b = b * b</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 5 101</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="1-2-5-Greatest-Common-Divisors"><a href="#1-2-5-Greatest-Common-Divisors" class="headerlink" title="1.2.5  Greatest Common Divisors"></a>1.2.5  Greatest Common Divisors</h1><h2 id="Vocabulary-15"><a href="#Vocabulary-15" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>GCD</li>
</ul>
<h2 id="Questions-15"><a href="#Questions-15" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-15"><a href="#Notes-15" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><p>辗转相除法：个人理解， 把a和b看成m份x和n份x，其中x为GCD(a, b)，因为是最大公约数所以显然可以把a和b分成m&#x2F;n份。a % b &#x3D; r, &#x3D; m * x - r * n * x &#x3D; g * x, 他们的最大公约数仍然是x</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GCD(a, b) = GCD(a, r) r = a % b</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">gcd</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> b === <span class="number">0</span></span><br><span class="line">         ? a</span><br><span class="line">         : <span class="title function_">gcd</span>(b, a % b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这个函数本身就是迭代的，从上往下不代表一定就是递归，只是思考的方式而已。更像与dp的区别</span></span><br><span class="line"><span class="comment">// 在其他语言，这个就是递归的，可以用for循环写迭代的。在js，有tail_recursive尾递归，这个就是</span></span><br><span class="line"><span class="comment">// for循环的语法糖 空间O(1)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>see the different process generated by normal order evaluation and applicate order evaluation</p>
</li>
</ul>
<h1 id="1-2-6-Example-Testing-for-Primality"><a href="#1-2-6-Example-Testing-for-Primality" class="headerlink" title="1.2.6  Example: Testing for Primality"></a>1.2.6  Example: Testing for Primality</h1><h2 id="Vocabulary-16"><a href="#Vocabulary-16" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>divisors test: testing if there is divisors 1 &lt; d &lt; n. notes: n&#x2F;d * d &#x3D; n, so n&#x2F;d or d one must less then sqrt(n) another one must bigger, if can’t find less then sqrt(n), then it’s clear that there will no more divisors bigger then sqrt(n).</li>
<li><strong>Fermat’s Little Theorem:</strong> If n is a prime number and a is any positive integer less than n, then a raised to the nth power is congruent to a modulo n.</li>
<li>probabilistic algorithms: The existence of tests for which one can prove that the chance of error becomes arbitrarily small</li>
</ul>
<h2 id="Questions-16"><a href="#Questions-16" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-16"><a href="#Notes-16" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><p>divisors test</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">is_prime</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">divisor</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a % b === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * a</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">divisor_test</span>(<span class="params">r, n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">square</span>(r) &gt; n</span><br><span class="line">           ? <span class="literal">true</span></span><br><span class="line">           : <span class="title function_">divisor</span>(n, r)</span><br><span class="line">           ? <span class="literal">false</span></span><br><span class="line">           : <span class="title function_">divisor_test</span>(r + <span class="number">1</span>, n)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">divisor_test</span>(<span class="number">2</span>, n)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Exercise 1.23</span></span><br><span class="line"><span class="comment">// improve: if n can&#x27;t be divided by 2, then all the even number can divide too</span></span><br><span class="line"><span class="keyword">function</span> *<span class="title function_">divisor_generator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">2</span></span><br><span class="line">  <span class="keyword">yield</span> i</span><br><span class="line">  i += <span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> i</span><br><span class="line">    i = i + <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">divisor.next()</span></span><br><span class="line"><span class="comment">&#123;value: 2, done: false&#125;</span></span><br><span class="line"><span class="comment">divisor.next()</span></span><br><span class="line"><span class="comment">&#123;value: 3, done: false&#125;</span></span><br><span class="line"><span class="comment">divisor.next()</span></span><br><span class="line"><span class="comment">&#123;value: 5, done: false&#125;</span></span><br><span class="line"><span class="comment">divisor.next()</span></span><br><span class="line"><span class="comment">&#123;value: 7, done: false&#125;</span></span><br><span class="line"><span class="comment">divisor.next()</span></span><br><span class="line"><span class="comment">&#123;value: 9, done: false&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The fermat test</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if n is prime, then a^n mod n = a mod n, if 0 &lt; a &lt; n. O(time*logn)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">is_prime</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">is_even</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * a</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">random_int_less_than</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (a - <span class="number">1</span>)) + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fast_expt_mod</span>(<span class="params">a, n, m</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> n === <span class="number">0</span></span><br><span class="line">             ? <span class="number">1</span></span><br><span class="line">             : <span class="title function_">is_even</span>(n)</span><br><span class="line">             ? <span class="title function_">square</span>(<span class="title function_">fast_expt_mod</span>(a, n / <span class="number">2</span>, m)) % m <span class="comment">// js uses 64bit represent number, take remainder each step for perventing overflow</span></span><br><span class="line">             : (a * <span class="title function_">fast_expt_mod</span>(a, n - <span class="number">1</span>, m)) % m</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fermat_test</span>(<span class="params">a, n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> fast_expt_mod (a, n, n) === a % n</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fermat_test_time</span>(<span class="params">a, n, time</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> time === <span class="number">0</span></span><br><span class="line">           ? <span class="literal">true</span></span><br><span class="line">           : <span class="title function_">fermat_test</span>(a, n)</span><br><span class="line">           ? <span class="title function_">fermat_test_time</span>(<span class="title function_">random_int_less_than</span>(n), n, time - <span class="number">1</span>)</span><br><span class="line">           : <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fermat_test_time</span>(<span class="title function_">random_int_less_than</span>(n), n, <span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for testing the time cost of the function, we make a high order function</span></span><br><span class="line"><span class="comment">// to wrap those function, record the start time and end time</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">time_spend_of_fn</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">    <span class="keyword">const</span> res = fn.<span class="title function_">call</span>(<span class="variable language_">this</span>, ...args)</span><br><span class="line">    <span class="keyword">const</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`spend: <span class="subst">$&#123;endTime - startTime&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="1-3-Formulating-Abstractions-with-Higher-Order-Functions"><a href="#1-3-Formulating-Abstractions-with-Higher-Order-Functions" class="headerlink" title="1.3   Formulating Abstractions with Higher-Order Functions"></a>1.3   Formulating Abstractions with Higher-Order Functions</h1><h2 id="Vocabulary-17"><a href="#Vocabulary-17" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>function(review): function is a abstraction of some combinations of operation, for better reuse.</li>
<li>high-order function: we need a way to abstract the operations to functions, that is, high-order function, pass function as parameter and return function as value.</li>
</ul>
<h2 id="Questions-17"><a href="#Questions-17" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-17"><a href="#Notes-17" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Often the same programming pattern will be used with a number of different functions.</li>
</ul>
<h1 id="1-3-1-Functions-as-Arguments"><a href="#1-3-1-Functions-as-Arguments" class="headerlink" title="1.3.1   Functions as Arguments"></a>1.3.1   Functions as Arguments</h1><h2 id="Vocabulary-18"><a href="#Vocabulary-18" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-18"><a href="#Questions-18" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-18"><a href="#Notes-18" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>fn as args: consider the common partern of several functions, extract it as a high-order function.</li>
<li>summation:</li>
</ul>
<p>consider those three functions below:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum_integers</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line">           ? <span class="number">0</span></span><br><span class="line">           : a + <span class="title function_">sum_integers</span>(a + <span class="number">1</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum_cubes</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line">           ? <span class="number">0</span></span><br><span class="line">           : <span class="title function_">cube</span>(a) + <span class="title function_">sum_cubes</span>(a + <span class="number">1</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pi_sum</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line">           ? <span class="number">0</span></span><br><span class="line">           : <span class="number">1</span> / (a * (a + <span class="number">2</span>)) + <span class="title function_">pi_sum</span>(a + <span class="number">4</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// whats common partern they have? whats the difference?</span></span><br><span class="line"><span class="comment">// remember the thought: putting some ideas together, look and solve them once</span></span><br><span class="line"><span class="comment">// function is a combination of some expression, so those functions&#x27; parts are</span></span><br><span class="line"><span class="comment">// the same majorily, which the different is after &#x27;:&#x27; and the next() function</span></span><br></pre></td></tr></table></figure>
<p>We can extract most of the part as a new function, and leave the difference as specify functions ‘term’ and ‘next’:<br><img alt="summatefunction" src="/img/sicpjs/summatefunction.png"><br>This is the summation in math:<br><img alt="summatemath" src="/img/sicpjs/summatemath.png"></p>
<ul>
<li><p>Exercise 1.29</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">summate</span>(<span class="params">a, b, f, next</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? <span class="number">0</span></span><br><span class="line">         : <span class="title function_">f</span>(a) + <span class="title function_">summate</span>(<span class="title function_">next</span>(a), b, f, next)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">simpson_integrate</span>(<span class="params">a, b, f, n</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> h = (b - a) / n</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">get_y</span>(<span class="params">k</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">f</span>(a + k * h)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">next</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">is_even</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">term</span>(<span class="params">p</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> p === <span class="number">0</span></span><br><span class="line">           ? <span class="title function_">get_y</span>(p)</span><br><span class="line">           : p === n</span><br><span class="line">           ? <span class="title function_">get_y</span>(p)</span><br><span class="line">           : <span class="title function_">is_even</span>(p)</span><br><span class="line">           ? <span class="number">2</span> * <span class="title function_">get_y</span>(p)</span><br><span class="line">           : <span class="number">4</span> * <span class="title function_">get_y</span>(p)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> h / <span class="number">3</span> * <span class="title function_">summate</span>(<span class="number">0</span>, n, term, next)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterative</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">summate</span>(<span class="params">a, b, f, next, res</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? res</span><br><span class="line">         : <span class="title function_">summate</span>(<span class="title function_">next</span>(a), b, f, res + <span class="title function_">f</span>(a))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Exercise 1.31</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">product</span>(<span class="params">a, b, f, next</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? <span class="number">1</span></span><br><span class="line">         : <span class="title function_">f</span>(a) * <span class="title function_">product</span>(<span class="title function_">next</span>(a), b, f, next)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">factorial</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">inc</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">product</span>(<span class="number">1</span>, n, <span class="function"><span class="params">a</span> =&gt;</span> a, inc)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pi</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">is_even</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">numerator_next</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">is_even</span>(i)</span><br><span class="line">           ? a</span><br><span class="line">           : <span class="number">2</span> + a</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> j = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">denominator_next</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">is_even</span>(j)</span><br><span class="line">           ? <span class="number">2</span> + a</span><br><span class="line">           : a</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">4</span> * <span class="title function_">product</span>(<span class="number">2</span>, n, <span class="function"><span class="params">a</span> =&gt;</span> a, numerator_next)</span><br><span class="line">         / <span class="title function_">product</span>(<span class="number">3</span>, n, <span class="function"><span class="params">a</span> =&gt;</span> a, denominator_next)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// iterative</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">product</span>(<span class="params">a, b, f, next</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">product_iter</span>(<span class="params">a, res</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line">           ? res</span><br><span class="line">           : <span class="title function_">product_iter</span>(<span class="title function_">next</span>(a), res * <span class="title function_">f</span>(a))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">product_iter</span>(a, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Exercise 1.32</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use same thought to extract common partern of summate and product function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">summate</span>(<span class="params">a, b, f, next</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? <span class="number">0</span></span><br><span class="line">         : <span class="title function_">f</span>(a) + <span class="title function_">summate</span>(<span class="title function_">next</span>(a), b, f, next)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">product</span>(<span class="params">a, b, f, next</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? <span class="number">1</span></span><br><span class="line">         : <span class="title function_">f</span>(a) * <span class="title function_">product</span>(<span class="title function_">next</span>(a), b, f, next)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// what&#x27;s the difference? what&#x27;s the commons?</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">accumulate</span>(<span class="params">a, b, f, next, combine, null_value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b</span><br><span class="line">         ? null_value</span><br><span class="line">         : <span class="title function_">combine</span>(<span class="title function_">f</span>(a),<span class="title function_">accumulate</span>(<span class="title function_">next</span>(a), b, f, next, combine, null_value))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数就是一个操作的抽象，普通函数可以抽象某个对data的操作，</span></span><br><span class="line"><span class="comment">// 而高阶函数把函数当作参数传入，则可以抽象某个对操作的操作，把某些操作的</span></span><br><span class="line"><span class="comment">// 相同部分抽离出来复用，也就是在两个ideas中找共同点</span></span><br><span class="line"><span class="comment">// 抽象的部分是相同的，而根据传来的参数的不同做特别的操作和结果</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// iterative</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">accumulate</span>(<span class="params">a, b, f, next, combine, null_value</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">accumulate_iter</span>(<span class="params">a, res</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line">           ? res</span><br><span class="line">           : <span class="title function_">accumulate_iter</span>(<span class="title function_">next</span>(a),<span class="title function_">combine</span>(res,<span class="title function_">f</span>(a)))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">accumulate_iter</span>(a, null_value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="1-3-2-Constructing-Functions-using-Lambda-Expressions"><a href="#1-3-2-Constructing-Functions-using-Lambda-Expressions" class="headerlink" title="1.3.2   Constructing Functions using Lambda Expressions"></a>1.3.2   Constructing Functions using Lambda Expressions</h1><h2 id="Vocabulary-19"><a href="#Vocabulary-19" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>Lambda Expressions: Form like x &#x3D;&gt; x + 4 without name. It’s convenient to pass to function as paramater. We use it when there’re some small expressions that uneccessary to declaire a function, particularly some functions that will never been reused.</li>
<li>conditional statement(if else): make the expression to block, you can write more information in the block.</li>
</ul>
<h2 id="Questions-19"><a href="#Questions-19" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-19"><a href="#Notes-19" class="headerlink" title="Notes"></a>Notes</h2><h1 id="1-3-3-Functions-as-General-Methods"><a href="#1-3-3-Functions-as-General-Methods" class="headerlink" title="1.3.3   Functions as General Methods"></a>1.3.3   Functions as General Methods</h1><h2 id="Vocabulary-20"><a href="#Vocabulary-20" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-20"><a href="#Questions-20" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-20"><a href="#Notes-20" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Finding roots of equations by the half-interval method</li>
</ul>
<p>given f(x), find the root of f(x) &#x3D; 0. also given boundary a,b where root is between [a,b].<br>solution:</p>
<ol>
<li>naive way: enum a from b, to see if f(x) &#x3D; 0 or close to 0. since a and b is continuous, the O depentend on the precision.</li>
<li>half-interval: f(a) * f(b) &lt; 0, if and only if root is between a, b. we take the middle of a, b x to validate if f(x) * f(a) or f(x) * f(b) &lt; 0. set x as a or b again and narrow the range. End when the range is small than T. O(log(b-a)&#x2F;T). We can see T as the smallest unit, as if T equal 1 then O(log(b-a)).</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">find_root</span>(<span class="params">f, r, a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> middle = (a + b) / <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> b - a &lt; r || <span class="title function_">f</span>(middle) === <span class="number">0</span></span><br><span class="line">         ? middle</span><br><span class="line">         : <span class="title function_">f</span>(a) * <span class="title function_">f</span>(middle) &lt; <span class="number">0</span></span><br><span class="line">         ? <span class="title function_">find_root</span>(f, r, a, middle)</span><br><span class="line">         : <span class="title function_">find_root</span>(f, r, middle, b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// add: consider root don&#x27;t sit between a and b</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">find_root</span>(<span class="params">f, r, a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> middle = (a + b) / <span class="number">2</span></span><br><span class="line">  <span class="keyword">if</span>(b - a &lt; r || <span class="title function_">f</span>(middle) === <span class="number">0</span>) <span class="keyword">return</span> middle</span><br><span class="line">  <span class="keyword">if</span>(<span class="title function_">f</span>(middle) * <span class="title function_">f</span>(a) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">find_root</span>(f, r, a, middle)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="title function_">f</span>(middle) * <span class="title function_">f</span>(b) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">find_root</span>(f, r, middle, b)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;root don&#x27;</span>t exist at a, b<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// normal half-interval, find if n locate in sorted arr, which</span></span><br><span class="line"><span class="string">// boundary is 0, arr.length - 1</span></span><br><span class="line"><span class="string">function binary_search(n, arr, a, b) &#123;</span></span><br><span class="line"><span class="string">  const middle = Math.floor((b + a) / 2)</span></span><br><span class="line"><span class="string">  return n === arr[middle]</span></span><br><span class="line"><span class="string">         ? middle</span></span><br><span class="line"><span class="string">         : arr[middle] &gt; n</span></span><br><span class="line"><span class="string">         ? binary_search(n, arr, a, middle - 1)</span></span><br><span class="line"><span class="string">         : binary_search(n, arr, middle + 1, b)</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// high-order function of binary_search and find_root</span></span><br><span class="line"><span class="string">// what is the common part and what is the difference?</span></span><br><span class="line"><span class="string">// the flow is: first find a index(in this case middle)</span></span><br><span class="line"><span class="string">// then use this index to judge what part the res will sit</span></span><br><span class="line"><span class="string">// and then narrow the problem&#x27;</span>s size and recursive</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">half_interval</span>(<span class="params">range, find_index, judge_index, new_range</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = <span class="title function_">find_index</span>(range)</span><br><span class="line">  <span class="keyword">const</span> judgement = <span class="title function_">judge_index</span>(index)</span><br><span class="line">  <span class="comment">// agreement: judgement === 0: index is res, judgement === something else,</span></span><br><span class="line">  <span class="comment">// start a new function call</span></span><br><span class="line">  <span class="keyword">return</span> judgement === <span class="number">0</span></span><br><span class="line">         ? index</span><br><span class="line">         : <span class="title function_">half_interval</span>(<span class="title function_">new_range</span>(range, index, judgement),find_index, judge_index, new_range)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// binary_search use half_interval</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binary_search</span>(<span class="params">n, arr, a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> range = &#123;a, b&#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">find_index</span> = (<span class="params">range</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>((range.<span class="property">a</span> + range.<span class="property">b</span>) / <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">judge_index</span> = (<span class="params">index</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> arr[index] === n</span><br><span class="line">           ? <span class="number">0</span></span><br><span class="line">           : arr[index] &gt; n</span><br><span class="line">           ? -<span class="number">1</span></span><br><span class="line">           : <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">new_range</span> = (<span class="params">range, index, judgement</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> judgement === <span class="number">1</span></span><br><span class="line">           ? &#123;...range, <span class="attr">a</span>: index + <span class="number">1</span>&#125;</span><br><span class="line">           : &#123;...range, <span class="attr">b</span>: index - <span class="number">1</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">half_interval</span>(range, find_index, judge_index, new_range)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// not neccessary at most of the time, we write</span></span><br><span class="line"><span class="comment">// more code seem this two functions have little</span></span><br><span class="line"><span class="comment">// same partern😂 just to train the mind of putting two</span></span><br><span class="line"><span class="comment">// ideas together and see common</span></span><br></pre></td></tr></table></figure>

<h1 id="1-3-4-Functions-as-Returned-Values"><a href="#1-3-4-Functions-as-Returned-Values" class="headerlink" title="1.3.4   Functions as Returned Values"></a>1.3.4   Functions as Returned Values</h1><h2 id="Vocabulary-21"><a href="#Vocabulary-21" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-21"><a href="#Questions-21" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-21"><a href="#Notes-21" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>fn as paramater: mean of abstraction the compose &#x2F; operate function</li>
<li>fn as return value: make a new function base on original function, usually warp some extra logic to the function, or compose several function to one.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 1: make a damp to a function for instance x -&gt; x * x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">average</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (x + y) / <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">square_damp</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">average</span>(x, <span class="title function_">square</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// now we have another function need damping, for instance x -&gt; x * x * x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cube</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * x * x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cube_damp</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">average</span>(x, <span class="title function_">cube</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// now you can see that most of the process that damp take is the same but</span></span><br><span class="line"><span class="comment">// only the second paramater of average have difference process</span></span><br><span class="line"><span class="comment">// you can pass this process as paramater to make it more generate</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">damp</span>(<span class="params">x, f</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">average</span>(x, <span class="title function_">f</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">damp</span>(x, square)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sqrt</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fixed_point</span>(<span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">damp</span>(x, <span class="function"><span class="params">y</span> =&gt;</span> x / y), <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we can make the damp function generate new function rather than just</span></span><br><span class="line"><span class="comment">// return a value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">average_damp</span>(<span class="params">f</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">average</span>(x, <span class="title function_">f</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sqrt</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fixed_point</span>(<span class="title function_">average_damp</span>(<span class="function"><span class="params">y</span> =&gt;</span> x / y), <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>This is a strengthen of expression, without fn as param we can not express abstraction of operation that operate other function. without fn as return value we can not express the abstraction of warping &#x2F; upgrade a function use extra logic.</p>
<ul>
<li>derivative: Dg(x)&#x3D;(g(x+dx)−g(x))&#x2F;dx,  dx as a small number, we calculate the difference of g(x) between x + dx and x, then divide with dx.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// deriv is a new function base on g(x), so we can use fn as return value to</span></span><br><span class="line"><span class="comment">// express this idea</span></span><br><span class="line"><span class="keyword">const</span> dx = <span class="number">0.000001</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deriv</span>(<span class="params">g</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> (<span class="title function_">g</span>(x + dx) - <span class="title function_">g</span>(x)) / dx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>We began section <a target="_blank" rel="noopener" href="https://sourceacademy.org/sicpjs/1.3">1.3</a> with the observation that compound functions are a crucial abstraction mechanism, because they permit us to express general methods of computing as explicit elements in our programming language. Now we’ve seen how higher-order functions permit us to manipulate these general methods to create further abstractions.</li>
<li>we should always be alert to opportunities to identify the underlying abstractions in our programs and create more powerful abstractions, but that doesn’t mean one should always write programs in the most abstract way possible. expert programmers know how to choose the level of abstraction appropriate to their task. But it is important to be able to think in terms of these abstractions, so that we can be ready to apply them in new contexts. </li>
<li>first-class elements: programming languages impose fewest restriction of manipulate them.<ul>
<li>They may be referred to using names.</li>
<li>They may be passed as arguments to functions.</li>
<li>They may be returned as the results of functions.</li>
<li>They may be included in data structures.</li>
</ul>
</li>
<li>js fn as first-class elements: more experssive, but the efficient implemant is a challenge.</li>
<li>Exercise 1.40</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// given param, generate a function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cubic</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">cube</span>(x) + a * <span class="title function_">square</span>(x) + b * x + c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 1.41</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">double</span>(<span class="params">f</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(<span class="title function_">f</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">double</span>(<span class="title function_">double</span>(double))(inc)(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// double make the original function do twice, so double(double) is 4 times</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">double</span>(double): <span class="function"><span class="params">x</span> =&gt;</span> (<span class="function"><span class="params">f</span> =&gt;</span> (<span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(<span class="title function_">f</span>(<span class="title function_">f</span>(<span class="title function_">f</span>(x))))))</span><br><span class="line"></span><br><span class="line"><span class="comment">// double(double(double)) is 16 times</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 1.42</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// abstraction of compose</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compose</span>(<span class="params">x, f, g</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">f</span>(<span class="title function_">g</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">compose</span>(x, square, inc)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compose</span>(<span class="params">f, g</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(<span class="title function_">g</span>(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">compose</span>(square, inc)(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">// what&#x27;s the difference?</span></span><br><span class="line"><span class="comment">// former only create an abstraction of compose function,</span></span><br><span class="line"><span class="comment">// return fn as value also create an abstraction of `create an abstraction of compose function`</span></span><br><span class="line"><span class="comment">// or the abstraction of modifing function</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 1.43</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// given a function and n times, modify the function to repeat itself n times</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">repeated</span>(<span class="params">f, times</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">rp</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(times === <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    times--;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">rp</span>(<span class="title function_">f</span>(x))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 1.44</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// smoothing function,  times</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">smooth_n_fold</span>(<span class="params">f, times</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> dx = <span class="number">0.00001</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">smooth</span>(<span class="params">f</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">x</span> =&gt;</span> (<span class="title function_">f</span>(x - dx) + <span class="title function_">f</span>(x) + <span class="title function_">f</span>(x + dx)) / <span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">repeated</span>(smooth, times)(f)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// smooth() is the abstraction of process f()</span></span><br><span class="line"><span class="comment">// while the repeated() is the abstraction of process smooth()</span></span><br><span class="line"><span class="comment">// with high-order function, every process can be abstract</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 1.46</li>
</ul>
<p>iterative improvement: in order to compute result, we first start at a initial guess, then judge whether it is good enough, if no, repeat the process.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">iterative_improve</span>(<span class="params">improve, is_good_enough</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">repeat</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">is_good_enough</span>(x)</span><br><span class="line">           ? x</span><br><span class="line">           : <span class="title function_">repeat</span>(<span class="title function_">improve</span>(x))</span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>abstractions we have for now:<ul>
<li>naming: abstraction of express</li>
<li>function: abstraction of operate<ul>
<li>basic function: abstraction of operate data</li>
<li>high-order function: <ul>
<li>function as param: abstraction of operate function(compose funtion)(idea)</li>
<li>function as return value: abstraction of modify &#x2F; update function(idea)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>It is all about increasing your ability of expression.</p>

<div id="gitalk-container"></div>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

		<script>
		var gitalkConfig = {"clientID":"e74447b3f58a3fe2a950","clientSecret":"774863e5fb16b4af9ef490f976a034237694fe13","repo":"gitalk","owner":"clean99","admin":["clean99"],"distractionFreeMode":false};
	    gitalkConfig.id = md5(location.pathname);
		var gitalk = new Gitalk(gitalkConfig);
	    gitalk.render("gitalk-container");
	    </script>
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-The-Elements-of-Programming"><span class="toc-number"></span> <span class="toc-text">1.1 The Elements of Programming</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-1"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-1"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-1"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-1-Expressions"><span class="toc-number"></span> <span class="toc-text">1.1.1 Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-2"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-2"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-2"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-2-Naming-and-the-Environment"><span class="toc-number"></span> <span class="toc-text">1.1.2  Naming and the Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-3"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-3"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-3"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-3-Evaluating-Operator-Combinations"><span class="toc-number"></span> <span class="toc-text">1.1.3   Evaluating Operator Combinations</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-4"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-4"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-4"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-4-Compound-Functions"><span class="toc-number"></span> <span class="toc-text">1.1.4   Compound Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-5"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-5"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-5"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-5-The-Substitution-Model-for-Function-Application"><span class="toc-number"></span> <span class="toc-text">1.1.5   The Substitution Model for Function Application</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-6"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-6"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-6"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-6-Conditional-Expressions-and-Predicates"><span class="toc-number"></span> <span class="toc-text">1.1.6   Conditional Expressions and Predicates</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-7"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-7"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-7"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-7-Example-Square-Roots-by-Newton%E2%80%99s-Method"><span class="toc-number"></span> <span class="toc-text">1.1.7  Example: Square Roots by Newton’s Method</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-8"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-8"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-8"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-8-Functions-as-Black-Box-Abstractions"><span class="toc-number"></span> <span class="toc-text">1.1.8   Functions as Black-Box Abstractions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-9"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-9"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-9"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-Functions-and-the-Processes-They-Generate"><span class="toc-number"></span> <span class="toc-text">1.2   Functions and the Processes They Generate</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-10"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-10"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-10"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-1-Linear-Recursion-and-Iteration"><span class="toc-number"></span> <span class="toc-text">1.2.1  Linear Recursion and Iteration</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-11"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-11"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-11"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-2-Tree-Recursion"><span class="toc-number"></span> <span class="toc-text">1.2.2  Tree Recursion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-12"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-12"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-12"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-3-Orders-of-Growth"><span class="toc-number"></span> <span class="toc-text">1.2.3  Orders of Growth</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-13"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-13"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-13"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-4-Exponentiation"><span class="toc-number"></span> <span class="toc-text">1.2.4  Exponentiation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-14"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-14"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-14"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-5-Greatest-Common-Divisors"><span class="toc-number"></span> <span class="toc-text">1.2.5  Greatest Common Divisors</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-15"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-15"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-15"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-6-Example-Testing-for-Primality"><span class="toc-number"></span> <span class="toc-text">1.2.6  Example: Testing for Primality</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-16"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-16"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-16"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-Formulating-Abstractions-with-Higher-Order-Functions"><span class="toc-number"></span> <span class="toc-text">1.3   Formulating Abstractions with Higher-Order Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-17"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-17"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-17"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-1-Functions-as-Arguments"><span class="toc-number"></span> <span class="toc-text">1.3.1   Functions as Arguments</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-18"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-18"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-18"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-2-Constructing-Functions-using-Lambda-Expressions"><span class="toc-number"></span> <span class="toc-text">1.3.2   Constructing Functions using Lambda Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-19"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-19"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-19"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-3-Functions-as-General-Methods"><span class="toc-number"></span> <span class="toc-text">1.3.3   Functions as General Methods</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-20"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-20"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-20"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-4-Functions-as-Returned-Values"><span class="toc-number"></span> <span class="toc-text">1.3.4   Functions as Returned Values</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vocabulary-21"><span class="toc-number">1.</span> <span class="toc-text">Vocabulary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions-21"><span class="toc-number">2.</span> <span class="toc-text">Questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notes-21"><span class="toc-number">3.</span> <span class="toc-text">Notes</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&text=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&is_video=false&description=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SICPJS 1. Building Abstractions With Functions&body=Check out this article: https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&title=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&name=SICPJS 1. Building Abstractions With Functions&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://clean99.github.io/2022/04/25/SICPJS-1-Building-Abstractions-with-Functions/&t=SICPJS 1. Building Abstractions With Functions"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2020-2023
    Koh Hom
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
